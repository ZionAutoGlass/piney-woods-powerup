<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piney Woods Power-Up!</title>
    <style>
        :root { --forest-color: #2e7d32; --river-color: #0288d1; --well-face: "ðŸ˜Ž"; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: sans-serif; transition: background 1s; }
        
        /* The World */
        #game-world { width: 100vw; height: 100vh; background: var(--forest-color); position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; }

        /* The River */
        #river { position: absolute; top: 40%; width: 100%; height: 60px; background: var(--river-color); box-shadow: 0 0 20px rgba(0,0,0,0.2); transition: all 0.5s; }

        /* The Characters */
        #well { font-size: 100px; z-index: 10; transition: transform 0.3s; }
        #captain { position: absolute; font-size: 60px; top: -100px; transition: all 0.6s; z-index: 20; }
        .monster { position: absolute; font-size: 50px; cursor: pointer; animation: shake 0.5s infinite; }
        @keyframes shake { from { transform: rotate(-10deg); } to { transform: rotate(10deg); } }

        /* The HUD */
        #hud { position: absolute; bottom: 30px; background: rgba(0,0,0,0.85); color: white; padding: 20px; border-radius: 20px; border: 3px solid #F0474C; width: 85%; max-width: 400px; text-align: center; }
        input[type=range] { width: 100%; accent-color: #F0474C; }
        #fire-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: orange; opacity: 0; pointer-events: none; transition: opacity 1s; z-index: 5; }
    </style>
</head>
<body>

<div id="game-world" id="bg">
    <div id="fire-overlay"></div>
    <div id="river"></div>
    <div id="captain">ðŸ’—</div>
    
    <div id="well">ðŸŒ³</div>
    
    <div class="monster" style="top:20%; left:10%;" onclick="fix(this)">ðŸ˜¡</div>
    <div class="monster" style="top:15%; left:70%;" onclick="fix(this)">ðŸ¤¬</div>

    <div id="hud">
        <h2 id="status">ðŸŒ² Healthy Woods</h2>
        <input type="range" min="0" max="100" value="10" oninput="play(this.value)">
        <p>Industrial Pumping: <span id="val">10</span>%</p>
    </div>
</div>

<script>
    function play(v) {
        document.getElementById('val').innerText = v;
        const bg = document.getElementById('game-world');
        const river = document.getElementById('river');
        const well = document.getElementById('well');
        const status = document.getElementById('status');
        const fire = document.getElementById('fire-overlay');

        if (v < 40) {
            bg.style.background = "#2e7d32"; // Green
            river.style.height = "60px";
            river.style.background = "#0288d1";
            well.innerText = "ðŸŒ³";
            status.innerText = "ðŸŒ² Healthy Woods";
            fire.style.opacity = "0";
        } else if (v < 75) {
            bg.style.background = "#8d6e63"; // Brownish
            river.style.height = "15px";
            river.style.background = "#5d4037";
            well.innerText = "ðŸ˜Ÿ";
            status.innerText = "âš ï¸ Warning: Water Low";
            fire.style.opacity = "0";
        } else {
            bg.style.background = "#424242"; // Gray/Dead
            river.style.height = "0px";
            well.innerText = "ðŸ’€";
            status.innerText = "ðŸ”¥ FATAL CRITICAL FIRE RISK";
            fire.style.opacity = "0.4"; // The Fire Glow
        }
    }

    function fix(m) {
        const c = document.getElementById('captain');
        const r = m.getBoundingClientRect();
        c.style.top = r.top + "px";
        c.style.left = r.left + "px";
        setTimeout(() => { m.innerText = "âœ¨"; m.style.animation = "none"; }, 600);
    }
</script>
</body>
</html>
